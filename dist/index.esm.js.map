{"version":3,"file":"index.esm.js","sources":["../src/components/ACEComponent.js","../src/components/ACE.js","../src/components/Components.js"],"sourcesContent":["// https://medium.com/@sgpropguide/using-aceeditor-in-react-2187f681539f\nimport React from 'react';\nimport AceEditor from \"react-ace-builds\"; // https://github.com/manubb/react-ace-builds\n// import AceEditor from \"../src/ace\";\n// import \"react-ace-builds/webpack-resolver-min.js\";\nimport \"ace-builds/src-noconflict/ext-language_tools.js\";\n\n// defaults\nimport \"ace-builds/src-noconflict/mode-javascript\";\nimport \"ace-builds/src-noconflict/theme-github\";\n\n// input base\nimport { structs } from 'modelui-core-runtime'\n\nexport const events = structs.InputBase.events;\nexport const triggers = structs.InputBase.triggers;\n\nexport const options = {\n  \"id\": \"code-editor\",\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"description\": \"ACE options\",\n  \"x-layout\": \"component\",\n  \"type\": \"object\",\n  \"version\": 0.1,\n  \"properties\": {\n    \"theme\": { //  https://github.com/ajaxorg/ace/tree/master/lib/ace/theme\n      \"title\": \"theme\",\n      \"description\": \"theme\",\n      \"type\": \"string\",\n      \"enum\": ['ambiance', 'chaos', 'chrome', 'clouds', 'clouds_midnight', 'cobalt', 'crimson_editor', 'dawn', 'dracula', 'dreamweaver', 'eclilpse', 'github', 'gob', 'gruvbox', 'idle_fingers', 'iplastic', 'katzenmilch', 'kr_theme', 'kuroir', 'merbivore', 'merbivore_soft', 'mono_industrial', 'monokai', 'nord_dark', 'one_dark', 'pastel_on_dark', 'solarized_dark', 'solarized_light', 'sqlserver', 'terminal', 'textmate', 'tomorrow', 'tomorrow_night', 'tomorrown_night_blue', 'tomorrow_night_bright', 'tomorrow_night_eighties', 'twilight', 'vibrant_ink', 'xcode'],\n      \"default\": \"twilight\"\n    },\n    \"syntax\": {\n      \"title\": \"syntax\",\n      \"description\": \"syntax\",\n      \"type\": \"string\",\n      \"enum\": ['abap', 'abc', 'actionscript', 'ada', 'ada_test', 'alda', 'apache_conf', 'apex', 'applescript', 'aql', 'asciidoc', 'asl', 'assembly_x86', 'autohotkey', 'batchfile', 'behaviour', 'c9search', 'c_cpp', 'cirru', 'clojure', 'cobol', 'coffee', 'coldfusion', 'crystal', 'csharp', 'csound_document', 'csound_orchestra', 'csound_score', 'csp', 'css', 'curly', 'd', 'dart', 'diff', 'django', 'dockerfile', 'dot', 'drools', 'edifact', 'eiffel', 'ejs', 'elixir', 'elm', 'erlang', 'forth', 'fortran', 'fsharp', 'fsl', 'ftl', 'gcode', 'gherkin', 'gitignore', 'glsl', 'gobstones', 'golang', 'graphqlschema', 'groovy', 'haml', 'handlebars', 'haskell', 'haskell_cabal', 'haxe', 'hjson', 'html', 'html_elixir', 'html_ruby', 'html_worker', 'ini', 'io', 'jack', 'jade', 'java', 'javascript', 'json', 'json5', 'jsoniq', 'jsp', 'jssm', 'jsx', 'julia', 'kotlin', 'latex', 'latte', 'less', 'liquid', 'lisp', 'livescript', 'logiql', 'logiql_test', 'logtalk', 'lsl', 'lua', 'luapage', 'lucene', 'makefile', 'markdown', 'mask', 'matching_brace_outdent', 'matching_parens_outdent', 'matlab', 'maze', 'mediawiki', 'mel', 'mips', 'mixal', 'mushcode', 'mysql', 'nginx', 'nim', 'nix', 'nsis', 'nunjucks', 'objectivec', 'ocaml', 'pascal', 'perl', 'pgsql', 'php', 'php_laravel_blade', 'pig', 'plain_text', 'powershell', 'praat', 'prisma', 'prolog', 'properties', 'protobuf', 'puppet', 'python', 'python_test', 'qml', 'r', 'raku', 'razor', 'rdoc', 'red', 'redshift', 'rhtml', 'rst', 'ruby', 'ruby_test', 'rust', 'sass', 'scad', 'scala', 'scheme', 'scrypt', 'scss', 'sh', 'sjs', 'slim', 'smarty', 'smithy', 'snippets', 'soy_template', 'space', 'sparql', 'sql', 'sqlserver', 'stylus', 'svg', 'swift', 'tcl', 'terraform', 'tex', 'text', 'text_test', 'textile', 'toml', 'tsx', 'turtle', 'twig', 'typescript', 'vala', 'vbscript', 'vbscript_test', 'velocity', 'verilog', 'vhdl', 'visualforce', 'wollok', 'xml', 'xquery', 'yaml', 'zeek'],\n      \"default\": \"javascript\"\n    },\n    \"maxLines\": {\n      \"title\": \"Max Lines\",\n      \"description\": \"Max lines\",\n      \"type\": \"number\",\n      \"default\": 1024\n    },\n    \"fontSize\": {\n      \"title\": \"Font Size\",\n      \"description\": \"Font size\",\n      \"type\": \"number\",\n      \"default\": 12\n    },\n    \"tabSize\": {\n      \"title\": \"Tab Size\",\n      \"description\": \"Tab size\",\n      \"type\": \"number\",\n      \"default\": 4\n    },\n    \"tabWithSpaces\": {\n      \"title\": \"Tab With Spaces\",\n      \"description\": \"Tab with spaces\",\n      \"type\": \"boolean\",\n      \"default\": true\n    },\n    \"wrapMode\": {\n      \"title\": \"Wrap Mode\",\n      \"description\": \"Wrap Mode\",\n      \"type\": \"boolean\",\n      \"default\": true\n    },\n    \"highlight\": {\n      \"title\": \"Highlight\",\n      \"description\": \"Highlight\",\n      \"type\": \"boolean\",\n      \"default\": true\n    },\n    \"printMargin\": {\n      \"title\": \"Print Margin\",\n      \"description\": \"Print margin\",\n      \"type\": \"boolean\",\n      \"default\": false\n    },\n    \"enabled\": {\n      \"title\": \"Enabled\",\n      \"description\": \"Enabled\",\n      \"type\": \"boolean\",\n      \"default\": true\n    },\n    /*\n    \"undo\": {\n      \"title\": \"Undo\",\n      \"description\": \"Undo\",\n      \"type\": \"boolean\",\n      \"default\": true\n    },*/\n  },\n  \"required\": [\"theme\", \"syntax\", \"maxLines\", \"fontSize\", \"tabSize\", \"tabWithSpaces\", \"wrapMode\", \"highlight\", \"printMargin\", \"enabled\"]\n}\n\nexport const config = {\n  name: \"ACE\",\n  type: \"code-editor\",\n  author: \"Kjartan JÃ³nsson\",\n  description: \"ACE code editor component\",\n  version: 0.1,\n  relation: {\n    contains: [\"grid-column\"],\n    within: \"component\" // parent\n  },\n  options: options,\n  state: structs.InputBase.StateInput\n}\n\n\nclass ACEComponent extends structs.InputBase.InputBase {\n  /**\n   * Set internal state of ACEComponent\n   */\n  constructor(props) {\n    super(props);\n    this.fix_id_hack = null;\n    // FIXME: ace.config.set('basePath', 'path');\n    this.updateViewStyle(this.props.config.options);\n    this.ace = null;\n  }\n\n  onChange = (newValue, e) => {\n    // schema: formatData (only if valid)\n    // this.triggerEvent(\"validated\", evt.formData, evt);\n    // console.log(newValue, e);\n    // Saves the value of the editor in state\n    this.updateText(this.ace.editor.getValue(), true);\n  }\n  onBlur = (newValue, e) => { }\n  onFocus = (newValue, e) => { }\n  onChangeSelectionStyle = (newValue, e) => { }\n  changeSession = (newValue, e) => { }\n  onCopy = (newValue, e) => { }\n  onPaste = (newValue, e) => { }\n\n  updateViewStyle = (style) => {\n    /*\n    const defaultTheme = {\n      enabled: config.options.enabled.default,\n      theme: config.options.theme.default,\n      syntax: config.options.syntax.default,\n      fontSize: config.options.fontSize.default,\n      tabSize: config.options.tabSize.default,\n      tabWithSpaces: config.options.tabWithSpaces.default,\n      maxLines: config.options.maxLines.default,\n      wrapMode: config.options.wrapMode.default,\n      highlight: config.options.highlight.default,\n      printMargin: config.options.printMargin.default\n    };\n    this.viewStyle = this.viewStyle || defaultTheme;\n    // check for changes\n    if (this.viewStyle.theme !== style.theme) {\n      // check if this is a valid selection\n      // if (config.options.theme.control.options.find((str) => str === style.theme) === -1) { throw (\"Invalid theme\"); }\n      // set the theme if exists\n      // this.ace.editor.setTheme(style.theme);\n      // this.ace.editor.setOption(\"theme\", style.theme);\n      debugger;\n      this.ace.editor.setTheme(\"ace/theme/twilight\");\n    }\n    */\n    this.viewStyle = { ...this.viewStyle, ...style };\n  }\n\n  getActionState(action, callback) {\n    if (this.ace) {\n      if ((action === 'submit') || action === 'change') {\n        // callback({ data: { value: this.form_instance.submit(); } })\n        callback({ data: { value: this.ace.editor.getValue() } });\n      } else { callback(); }\n    } else { callback(); }\n  }\n\n  updateView = function (action, val, updated, data) {\n    // extend by parent\n\n    if (this.ace && this.ace.editor) {\n      if (action === 'enable') {\n        this.ace.editor.setReadOnly(false);\n      }\n      if (action === 'disable') {\n        this.ace.editor.setReadOnly(true);\n      }\n      if (action === 'populate') {\n        this.ace.editor.setValue(data.value || \"\");\n      }\n      if (action === 'replace') {\n        this.ace.editor.setValue(data.value || \"\");\n      }\n      if (action === 'clear') {\n\n      }\n    }\n    return true;\n  };\n\n  updateText = (text, skip_ace, id) => {\n    const change = { value: text }\n    // if (id !== undefined) { change.id = id; this.fix_id_hack = id; }\n    // const updated_state = { ...this.state, ...change };\n    // this.setState(updated_state);\n    // if (!skip_ace) { this.ace.editor.setValue(text); }\n    // Notify change\n    if (this.stateManager) {\n      this.stateManager.alterState({ data: change });\n      this.triggerEvent('changed', change, {});\n    }\n  }\n\n  render() {\n    // additional configuration options\n    let configProps = {};\n    this.updateViewStyle(this.props.config.options);\n    // submit button \n    const hide_submit = true;\n    if (hide_submit) { configProps.children = <div></div>; }\n\n    return (\n      <AceEditor\n        editorProps={{ $blockScrolling: Infinity }}\n        // maxLines={500}\n        mode={\"javascript\"}\n        value={this.state.data.value}\n        theme={\"github\" /* this.viewStyle.theme || \"monokai\" */}\n        setReadOnly={!this.state.enabled}\n        onChange={this.onChange}\n        onChangeSelectionStyle={this.onChangeSelectionStyle}\n        onChangeSession={this.changeSession}\n        onCopy={this.onCopy}\n        onPaste={this.onPaste}\n        onBlur={this.onBlur}\n        onFocus={this.onFocus}\n        style={{ width: '100%', height: '100vh' }}\n        ref={instance => { this.ace = instance; }} // Let's put things into scope\n      />\n    );\n  }\n\n}\n\nexport default ACEComponent;","import React from 'react';\n\nimport ACEComponent, { events, triggers, config } from './ACEComponent'\n\nexport function ACE(props) {\n    // lets enumerate schema to extract uiSchema and validation\n    return (<ACEComponent {...props} />);\n}\n\nexport function registerACE(component_manager) {\n    // self register component to layout manager\n    component_manager.registerComponent({\n        component: ACE,\n        type: config.type,\n        events: events,\n        triggers: triggers,\n        config: config\n    });\n}","// Managers and factories\nimport { layout } from 'modelui-core-runtime';\n\n// Components\nimport { registerACE } from './ACE';\n\nexport default function registerComponents(component_manager) {\n\n    if (!component_manager) {\n        component_manager = layout.Manager.ComponentManager.getInstance();\n    }\n\n    registerACE(component_manager);\n\n}"],"names":["events","structs","InputBase","triggers","options","config","name","type","author","description","version","relation","contains","within","state","StateInput","ACEComponent","props","onChange","newValue","e","updateText","ace","editor","getValue","onBlur","onFocus","onChangeSelectionStyle","changeSession","onCopy","onPaste","updateViewStyle","style","viewStyle","_objectSpread","updateView","action","val","updated","data","setReadOnly","setValue","value","text","skip_ace","id","change","stateManager","alterState","triggerEvent","fix_id_hack","callback","$blockScrolling","Infinity","enabled","width","height","instance","ACE","registerACE","component_manager","registerComponent","component","registerComponents","layout","Manager","ComponentManager","getInstance"],"mappings":"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"}